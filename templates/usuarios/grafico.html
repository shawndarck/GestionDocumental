<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu-desplegable</title>
    <link rel="stylesheet" href="{% static 'usuarios/css/sideba.css' %}">
    <link rel="stylesheet" href="{% static 'usuarios/css/centra.css' %}">
    <link rel="stylesheet" href="{% static 'usuarios/css/blog.css' %}">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
</head>

<body>
    {% load static %}
    <div class="d-flex" id="wrapper">
        <div class="bg-dark" id="sidebar-wrapper">
            <div class="list-group list-group-flush">
                <!--Los elementos padre e hijos deben estar dentro de un super ul y los elementos padre primero se abren con in <i> y luego un sub- <ul>-->
                    <div class="container-svg">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill: rgb(136, 137, 142);"><path d="M2 3h20v4H2zm17 5H3v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8h-2zm-3 6H8v-2h8v2z"></path></svg>
                            <span><a href="{% url 'formatos_admin' %}">Formatos</a></span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill: rgb(136, 137, 142);"><path d="m20 8-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM9 19H7v-9h2v9zm4 0h-2v-6h2v6zm4 0h-2v-3h2v3zM14 9h-1V4l5 5h-4z"></path></svg>
                            <span>Reportes</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill: rgb(136, 137, 142);"><path d="M16.813 4.419A.997.997 0 0 0 16 4H3a1 1 0 0 0-.813 1.581L6.771 12l-4.585 6.419A1 1 0 0 0 3 20h13a.997.997 0 0 0 .813-.419l5-7a.997.997 0 0 0 0-1.162l-5-7z"></path></svg>
                            <span> <a href="{% url 'permisos_evidencias' %}">Accesos</a></span>
                        </div>
                    </div>
                    <br>
                    <div class="container-svg">
                        <h4>Más de SST</h4>
                    <br>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill: rgb(136, 137, 142);"><path d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828 18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z"></path></svg>
                            <span><a href="{% url 'gestion_usuarios' %}">Gestion de usuarios</a></span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill: rgb(136, 137, 142);"><path d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828 18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z"></path></svg>
                            <span><a href="{% url 'perfil' %}">Perfil</a></span>
                        </div>
                    </div>
            </div>
        </div>

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <!--Navbar-->

            <nav class="navbar navbar-expand-lg">

                <div class="container-fluid">
                    <div class="d-flex ">
                        <a id="menu-toggle"><span id="open-close" id="menu-toggle"><i class='bx bx-menu mt-2'></i></span></a>
                        <img src="{% static 'usuarios/img/logo.png' %}" alt="" width="120" height="43" class="mt-2">
                        <a class="navbar-brand ms-3 mt-2" href="">Administrador / {{user.username}}</a>
                    </div>

                    <form class="d-flex">{% csrf_token %}
                        <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Search">
                        <button class="btn btn-primary" type="submit">Buscar</button>
                    </form>
                    <a href="{% url 'logout' %}" type="button" class="btn btn-danger">Cerrar</a>
                </div>
            </nav>

            <!--Aqui se puede añadir elementos-->

      {% load widget_tweaks %}

        {% block content %}
        <div id="container" style="width: 100%;">
            <canvas id="bar-chart"></canvas>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
        <script>

        var config = {
        type: 'bar',
        data: {
            datasets: [{
            data: {{ data|safe }},
            backgroundColor: [
                '#696969', '#808080', '#A9A9A9', '#C0C0C0'
            ],
            label: 'Phva'
            }],
            labels: {{ labels|safe }}
        },
        options: {
            responsive: true
        }
        };

        window.onload = function() {
        var ctx = document.getElementById('bar-chart').getContext('2d');
        window.myPie = new Chart(ctx, config);
        };

        </script>

    {% endblock %}
  </div>

  {% block extrascripts %}
      <script type="text/javascript">
        function deleteBookModalForm() {
          $(".eliminar-evidencia").each(function () {
              $(this).modalForm({formURL: $(this).data("form-url"), isDeleteForm: true});
          });
        }
        deleteBookModalForm();
      </script>
  {% endblock extrascripts %}

        </div>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
        crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>


    <script src="{% static 'usuarios/js/sidebar.js' %}"></script>
    <script src="{% static 'usuarios/js/accionesMenu.js' %}"></script>
</body>

</html>